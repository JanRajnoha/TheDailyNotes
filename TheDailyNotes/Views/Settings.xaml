<Page x:Class="TheDailyNotes.Views.Settings"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:Behaviors="using:Template10.Behaviors"
      xmlns:Core="using:Microsoft.Xaml.Interactions.Core"
      xmlns:Interactivity="using:Microsoft.Xaml.Interactivity"
      xmlns:controls="using:Template10.Controls"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="using:TheDailyNotes.Views"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:vm="using:TheDailyNotes.ViewModels"
      xmlns:med="using:Windows.UI.Xaml.Media.Media3D"
      xmlns:Conv="using:Template10.Converters"
      xmlns:FConv="using:Framework.Classes"
      xmlns:FControl="using:Framework.Controls"
      xmlns:FEnum="using:Framework.Enum"
      xmlns:Tools="using:Microsoft.Toolkit.Uwp.UI.Controls"
      mc:Ignorable="d">

    <Page.Resources>
        <FConv:EnumToBooleanConverter x:Key="ThemeEnumConverter" EnumType="FEnum:AppThemes"/>
        <FConv:StringConcatConverter x:Key="ConcatString"/>

        <Conv:ValueWhenConverter x:Key="NegVisibilityToBool">
            <Conv:ValueWhenConverter.When>
                <Visibility>Visible</Visibility>
            </Conv:ValueWhenConverter.When>
            <Conv:ValueWhenConverter.Value>
                <x:Boolean>False</x:Boolean>
            </Conv:ValueWhenConverter.Value>
            <Conv:ValueWhenConverter.Otherwise>
                <x:Boolean>True</x:Boolean>
            </Conv:ValueWhenConverter.Otherwise>
        </Conv:ValueWhenConverter>

        <Conv:ValueWhenConverter x:Key="VisibilityToBool">
            <Conv:ValueWhenConverter.When>
                <Visibility>Visible</Visibility>
            </Conv:ValueWhenConverter.When>
            <Conv:ValueWhenConverter.Value>
                <x:Boolean>True</x:Boolean>
            </Conv:ValueWhenConverter.Value>
            <Conv:ValueWhenConverter.Otherwise>
                <x:Boolean>False</x:Boolean>
            </Conv:ValueWhenConverter.Otherwise>
        </Conv:ValueWhenConverter>

        <Conv:ValueWhenConverter x:Key="BoolToVisibility">
            <Conv:ValueWhenConverter.When>
                <x:Boolean>True</x:Boolean>
            </Conv:ValueWhenConverter.When>
            <Conv:ValueWhenConverter.Value>
                <Visibility>Visible</Visibility>
            </Conv:ValueWhenConverter.Value>
            <Conv:ValueWhenConverter.Otherwise>
                <Visibility>Collapsed</Visibility>
            </Conv:ValueWhenConverter.Otherwise>
        </Conv:ValueWhenConverter>

        <Conv:ValueWhenConverter x:Key="NegBoolToVisibility">
            <Conv:ValueWhenConverter.When>
                <x:Boolean>True</x:Boolean>
            </Conv:ValueWhenConverter.When>
            <Conv:ValueWhenConverter.Value>
                <Visibility>Collapsed</Visibility>
            </Conv:ValueWhenConverter.Value>
            <Conv:ValueWhenConverter.Otherwise>
                <Visibility>Visible</Visibility>
            </Conv:ValueWhenConverter.Otherwise>
        </Conv:ValueWhenConverter>

    </Page.Resources>

    <Page.DataContext>
        <vm:SettingsPageViewModel x:Name="ViewModel" />
    </Page.DataContext>

    <RelativePanel Background="{ThemeResource SystemControlAcrylicWindowMediumHighBrush}">

        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="AdaptiveVisualStateGroup">
                <VisualState x:Name="VisualStateNarrow">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="{StaticResource NarrowMinWidth}" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="pageHeader.Margin" 
                                Value="48 0 0 0" />
                    </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="VisualStateNormal">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="{StaticResource NormalMinWidth}" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="pageHeader.Margin" 
                                Value="0 32 0 0" />
                    </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="VisualStateWide">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="{StaticResource WideMinWidth}" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="pageHeader.Margin" 
                                Value="0 32 0 0" />
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        <!--  header  -->
        <CommandBar x:Name="pageHeader"
                    Style="{ThemeResource PageHeader}">

            <CommandBar.Content>

                <TextBlock x:Name="HeaderText"
                           Text="Settings"
                           Style="{ThemeResource PageHeaderText}"/>

            </CommandBar.Content>

        </CommandBar>
        <Tools:DropShadowPanel Style="{ThemeResource ShadowContent}"
                               HorizontalContentAlignment="Stretch" 
                               VerticalContentAlignment="Stretch"
                               RelativePanel.AlignBottomWithPanel="True" 
                               RelativePanel.Below="pageHeader"
                               RelativePanel.AlignRightWithPanel="True"
                               RelativePanel.AlignLeftWithPanel="True">

            <!--  content  -->
            <Grid Style="{ThemeResource ContentGrid}"
               Grid.Row="1">
                
                <FControl:InAppNotifyMVVM x:Name="InAppNotify"
                                  ShowDismissButton="True"
                                  Mess="{x:Bind ViewModel.Messenger, Mode=OneWay}"/>

                <Pivot x:Name="MyPivot" 
                       Margin="5 0 0 0">

                    <!--  settings  -->
                    <PivotItem DataContext="{Binding SettingsPartViewModel}" 
                               Header="Settings">
                        
                            <ScrollViewer Margin="0,0,-12,0" 
                                      HorizontalContentAlignment="Left"
                                      VerticalScrollBarVisibility="Auto">

                                <RelativePanel Margin="0 0 0 0">

                                    <TextBlock x:Name="DesignSettingsHeader"
                                           Text="Design"
                                           FontSize="24"
                                           RelativePanel.AlignTopWithPanel="True"
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                    <ToggleSwitch x:Name="UseLightThemeToggleSwitch" 
                                              Header="Use Light Theme"
                                              Margin="0, 5, 0, 0"
                                              IsOn="{Binding UseLightThemeButton, Mode=TwoWay}"
                                              OffContent="Dark theme"
                                              OnContent="Light theme"
                                              Visibility="Collapsed"
                                              RelativePanel.AlignLeftWithPanel="True"
                                              RelativePanel.Below="DesignSettingsHeader" />

                                    <RadioButton x:Name="UseLightTheme"
                                             Margin="0, 5, 0, 0"
                                             Content="Light theme"
                                             IsChecked="{Binding SelectedAppTheme, Converter={StaticResource ThemeEnumConverter}, ConverterParameter=Light, Mode=TwoWay}"
                                             Visibility="Visible"
                                             GroupName="ThemeSelector"
                                             RelativePanel.AlignLeftWithPanel="True"
                                             RelativePanel.Below="DesignSettingsHeader"
                                             Command="{Binding SwitchThemeCommand}">

                                        <RadioButton.CommandParameter>
                                            <FEnum:AppThemes>Light</FEnum:AppThemes>
                                        </RadioButton.CommandParameter>
                                    </RadioButton>

                                    <RadioButton x:Name="UseDarkTheme"
                                             Margin="0, 5, 0, 0"
                                             Content="Dark theme"
                                             IsChecked="{Binding SelectedAppTheme, Converter={StaticResource ThemeEnumConverter}, ConverterParameter=Dark, Mode=TwoWay}"
                                             Visibility="Visible"
                                             GroupName="ThemeSelector"
                                             RelativePanel.AlignLeftWithPanel="True"
                                             RelativePanel.Below="UseLightTheme"
                                             Command="{Binding SwitchThemeCommand}">

                                        <RadioButton.CommandParameter>
                                            <FEnum:AppThemes>Dark</FEnum:AppThemes>
                                        </RadioButton.CommandParameter>
                                    </RadioButton>

                                    <RadioButton x:Name="UseSystemTheme"
                                             Margin="0, 5, 0, 0"
                                             Content="Use system theme"
                                             IsChecked="{Binding SelectedAppTheme, Converter={StaticResource ThemeEnumConverter}, ConverterParameter=System, Mode=TwoWay}"
                                             Visibility="Visible"
                                             GroupName="ThemeSelector"
                                             RelativePanel.AlignLeftWithPanel="True"
                                             RelativePanel.Below="UseDarkTheme"
                                             Command="{Binding UseSystemThemeCommand}">
                                    </RadioButton>

                                    <HyperlinkButton x:Name="WinColorSettings"
                                                 Content="Windows color settings"
                                                 Visibility="Collapsed"
                                                 RelativePanel.AlignLeftWithPanel="True"
                                                 RelativePanel.Below="UseSystemTheme" />

                                    <TextBlock x:Name="ControlSettingsHeader"
                                           Text="Controls"
                                           FontSize="24"
                                           Margin="0, 20, 0, 0"
                                           RelativePanel.Below="WinColorSettings"
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                    <ToggleSwitch x:Name="ContinuingWork"
                                              Header="Show additional panels after leave page"
                                              IsOn="{Binding ShowPanelAfterLeavePage, Mode=TwoWay}"
                                              OffContent="Panes won't show"
                                              OnContent="Panes will show"
                                              RelativePanel.Below="ControlSettingsHeader" 
                                              Margin="0,5,0,0" />

                                    <TextBlock x:Name="ActivitiesSettingsHeader"
                                           Text="Activities"
                                           FontSize="20"
                                           Margin="0,10,0,0"
                                           RelativePanel.Below="ContinuingWork" 
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                    <!--<ToggleSwitch x:Name="UseShellDrawnBackButtonToggleSwtich"
                                      Header="Use shell-drawn back button"
                                      Margin="0, 5, 0, 0"
                                      IsOn="{Binding UseShellBackButton, Mode=TwoWay}"
                                      OffContent="Back button in page header"
                                      OnContent="Back button in titlebar or taskbar"
                                      RelativePanel.Below="ControlSettingsHeader"/>-->

                                    <!--<ToggleSwitch x:Name="GoBackToMainPage"
                                      Header="Navigate to Main page with back button"
                                      IsOn="{Binding MainPageInBackStack, Mode=TwoWay}"
                                      OffContent="Main page isn't in backstack"
                                      OnContent="Main page is in backstack"
                                      RelativePanel.Below="UseShellDrawnBackButtonToggleSwtich" 
                                      Margin="0,5,0,0"/>-->

                                    <!--<ToggleSwitch x:Name="SaveTemporaryNewItemData"
                                      Header="Save data from new item page after leave"
                                      IsOn="{Binding SaveTemporaryNewItemCompData, Mode=TwoWay}"
                                      OffContent="Data aren't saved"
                                      OnContent="Data are saved"
                                      RelativePanel.Below="GoBackToMainPage" 
                                      Margin="0,5,0,0" />-->
                                    <!--IsOn="{Binding SaveTemporaryNewItemCompData, Mode=TwoWay}"-->

                                    <ToggleSwitch x:Name="ShowMoreInfo"
                                              Header="Show more information on item"
                                              IsOn="{Binding ShowMoreInfo, Mode=TwoWay}"
                                              OffContent="Use minimalistic style"
                                              OnContent="Show more info on item"
                                              RelativePanel.Below="ActivitiesSettingsHeader" 
                                              Margin="0,5,0,0"/>

                                    <ToggleSwitch x:Name="ShowLongerTitle"
                                              Header="Show full titles"
                                              IsOn="{Binding ShowLongerTitle, Mode=TwoWay}"
                                              OffContent="Show trimmed title"
                                              OnContent="Show full title"
                                              RelativePanel.Below="ShowMoreInfo" 
                                              Margin="0,5,0,0"
                                              IsEnabled="True"
                                              Visibility="Collapsed"/>
                                    <!--Nechat obecné nebo ne?-->

                                    <!--<ToggleSwitch x:Name="UseBiggerButtons"
                                      Header="Show bigger buttons on phone"
                                      IsOn="{Binding UseBiggerButtons, Mode=TwoWay}"
                                      OffContent="Show normal buttons"
                                      OnContent="Show bigger button"
                                      Margin="0,5,0,0"
                                      RelativePanel.Below="ShowLongerTitle"
                                      Visibility="Collapsed">

                            <Interactivity:Interaction.Behaviors>
                                <Behaviors:DeviceDispositionBehavior Desktop="True" 
                                                                     IoT="True"
                                                                     Mobile="True"
                                                                     Phone="True">

                                    <Core:ChangePropertyAction PropertyName="Visibility"
                                                               Value="Visible"/>

                                </Behaviors:DeviceDispositionBehavior>
                            </Interactivity:Interaction.Behaviors>
                        </ToggleSwitch>
                        -->
                                    <!--Nechat obecné nebo ne?-->

                                    <ToggleSwitch x:Name="UseSlidableItems"
                                              Header="Use slidable items"
                                              IsOn="{Binding UseSlidableItems, Mode=TwoWay}"
                                              OffContent="Use normal list"
                                              OnContent="Use list with slidable items"
                                              Margin="0,5,0,0"
                                              RelativePanel.Below="ShowMoreInfo"/>

                                    <TextBlock x:Name="NotesSettingsHeader"
                                           Text="Notes"
                                           FontSize="20"
                                           Margin="0,10,0,0"
                                           RelativePanel.Below="UseSlidableItems" 
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                    <ToggleSwitch x:Name="ShowSmallerNotesInfo"
                                              Header="Show smaller notes"
                                              OffContent="Show normal notes"
                                              OnContent="Show only headers"
                                              IsOn="{Binding ShowSmallerNotes, Mode=TwoWay}"
                                              Visibility="Visible"
                                              RelativePanel.Below="NotesSettingsHeader" 
                                              IsEnabled="True"
                                              Margin="0,5,0,0"/>

                                    <TextBlock x:Name="DataSettingsHeader"
                                           Text="Data"
                                           Visibility="Visible"
                                           FontSize="24"
                                           RelativePanel.Below="ShowSmallerNotesInfo"
                                           Margin="0, 20, 0, 0"/>

                                    <Button x:Name="ExportDataButton" 
                                        Content="Export data"
                                        Visibility="Visible"
                                        Margin="0, 5, 0, 4"
                                        Command="{Binding BackupItemsCommand}"
                                        RelativePanel.Below="DataSettingsHeader"/>

                                    <Button x:Name="ImportDataButton" 
                                        Content="Import data"
                                        Visibility="Visible"
                                        Margin="0, 5, 0, 4"
                                        Command="{Binding ImportItemsCommand}"
                                        RelativePanel.Below="ExportDataButton"/>

                                    <Button x:Name="RestoreBackupButton" 
                                        Content="Restore backup - in development"
                                        Visibility="Collapsed"
                                        IsEnabled="{Binding PremiumFeaturesActivated}"
                                        Margin="0, 5, 0, 4"
                                        RelativePanel.Below="ImportDataButton"/>

                                    <TextBlock x:Name="ImportWarning"
                                           Foreground="Red"
                                           Text="Warning: Import replace old data files!"
                                           Visibility="Visible"
                                           RelativePanel.Below="RestoreBackupButton"
                                           Margin="0, 5, 0, 4"/>
                                    <!--Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"-->

                                    <TextBlock x:Name="SecuritySettingsHeader"
                                           Text="Security"
                                           FontSize="24"
                                           Visibility="Collapsed"
                                           RelativePanel.Below="ImportWarning"
                                           Margin="0, 20, 0, 0"/>

                                    <ToggleSwitch x:Name="UseHelloSecurity" 
                                              Header="Use Hello security"
                                              IsOn="{Binding UseHelloSecurity, Mode=TwoWay}"
                                              IsEnabled="{Binding EnableHelloSecurity, Mode=TwoWay, Converter={StaticResource NegVisibilityToBool}}"
                                              Margin="0, 5, 0, 0"
                                              OffContent="Security off"
                                              OnContent="Security on"
                                              Visibility="Collapsed"
                                              RelativePanel.AlignLeftWithPanel="True"
                                              RelativePanel.Below="SecuritySettingsHeader"/>

                                    <Button x:Name="RefreshHelloSecurity" 
                                        Content="Refresh"
                                        Click="{x:Bind ViewModel.RefreshHelloSecurity}"
                                        Visibility="Collapsed"
                                        Margin="0, 5, 0, 4"
                                        RelativePanel.AlignBottomWith="UseHelloSecurity"
                                        RelativePanel.RightOf="UseHelloSecurity"/>

                                    <TextBlock x:Name="InfoHelloNotSet"
                                           Foreground="Red"
                                           Text="Windows Hello isn't set."
                                           Visibility="Collapsed"
                                           RelativePanel.AlignLeftWithPanel="True"
                                           RelativePanel.Below="UseHelloSecurity"/>
                                    <!--Visibility="{Binding EnableHelloSecurity, Mode=TwoWay}"-->

                                    <Button x:Name="SetHelloSecurity" 
                                        Content="Set Hello (open Settings app)"
                                           Visibility="Collapsed"
                                        Click="{x:Bind ViewModel.GotoSettingsApp}"
                                        Margin="0, 5, 0, 0"
                                        RelativePanel.AlignLeftWithPanel="True"
                                        RelativePanel.Below="InfoHelloNotSet"/>
                                    <!--Visibility="{Binding EnableHelloSecurity, Mode=TwoWay}"-->
                                </RelativePanel>
                            </ScrollViewer>
                        
                    </PivotItem>

                    <!--<PivotItem DataContext="{Binding SettingsPartViewModel}" 
                               Header="Premium">
                        
                        <ScrollViewer Margin="0,12,-12,0" 
                                      HorizontalContentAlignment="Left"
                                      VerticalScrollBarVisibility="Auto">

                            <RelativePanel Margin="0 0 0 10">

                                <TextBlock x:Name="PremiumSettingsHeader"
                                           Text="Premium - some features will be added in next update"
                                           FontSize="24"
                                           RelativePanel.AlignTopWithPanel="True"
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                <TextBlock x:Name="PremiumSubscriptionStatus"
                                           Text="{Binding PremiumFeaturesActivatedStatus, Converter={StaticResource ConcatString}, ConverterParameter='Status:' }"
                                           Visibility="Visible"
                                           RelativePanel.AlignLeftWithPanel="True"
                                           RelativePanel.Below="PremiumSettingsHeader"/>

                                <TextBlock x:Name="PremiumSubscriptionType"
                                           Text="{Binding PremiumFeaturesActivatedType, Converter={StaticResource ConcatString}, ConverterParameter='Subscription type:' }"
                                           Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                           RelativePanel.AlignLeftWithPanel="True"
                                           RelativePanel.Below="PremiumSubscriptionStatus"/>

                                <TextBlock x:Name="PremiumSubscriptionRemain"
                                           Text="{Binding PremiumFeaturesActivatedRemain, Converter={StaticResource ConcatString}, ConverterParameter='Remain days:' }"
                                        Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                           RelativePanel.AlignLeftWithPanel="True"
                                           RelativePanel.Below="PremiumSubscriptionType"/>

                                <Button x:Name="PremiumSubscriptionActivate" 
                                        Content="Activate premium features"
                                        Command="{Binding BuyPremium}"
                                        Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource NegBoolToVisibility}}"
                                        Margin="0, 5, 0, 0"
                                        RelativePanel.AlignLeftWithPanel="True"
                                        RelativePanel.Below="PremiumSubscriptionRemain"/>

                                <TextBlock x:Name="RemoveAdsSettingsHeader"
                                           Text="AdBlocker"
                                           FontSize="20"
                                           Margin="0,10,0,0"
                                           Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                           RelativePanel.Below="PremiumSubscriptionActivate" 
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                <ToggleSwitch x:Name="RemoveAdsToggleSwtich" 
                                              Header="Status"
                                              Margin="0, 5, 0, 0"
                                              IsOn="{Binding ActivateAdBlocker, Mode=TwoWay}"
                                              OffContent="Show ads"
                                              OnContent="Block ads"
                                              Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                              IsEnabled="{Binding PremiumFeaturesActivated}"
                                              RelativePanel.AlignLeftWithPanel="True"
                                              RelativePanel.Below="RemoveAdsSettingsHeader" />

                                <TextBlock x:Name="NetShareSettingsHeader"
                                           Text="Share items via internet"
                                           FontSize="20"
                                           Margin="0,10,0,0"
                                           Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                           RelativePanel.Below="RemoveAdsToggleSwtich" 
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                <ToggleSwitch x:Name="NetShareToggleSwtich" 
                                              Header="Status"
                                              Margin="0, 5, 0, 0"
                                              IsOn="{Binding ActivateShareItems, Mode=TwoWay}"
                                              OffContent="Disable net share"
                                              OnContent="Enable net share"
                                              Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                              IsEnabled="False"
                                              RelativePanel.AlignLeftWithPanel="True"
                                              RelativePanel.Below="NetShareSettingsHeader" />

                                <TextBlock x:Name="BackupSettingsHeader"
                                           Text="Backup items"
                                           FontSize="20"
                                           Margin="0,10,0,0"
                                           Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                           RelativePanel.Below="NetShareToggleSwtich" 
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                <ToggleSwitch x:Name="BackupEnableToggleSwtich" 
                                              Header="Status"
                                              Margin="0, 5, 0, 0"
                                              IsOn="{Binding ActivateBackupItems, Mode=TwoWay}"
                                              OffContent="Disable backup"
                                              OnContent="Enable backup"
                                              Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                              IsEnabled="False"
                                              RelativePanel.AlignLeftWithPanel="True"
                                              RelativePanel.Below="BackupSettingsHeader" />

                                <ToggleSwitch x:Name="BackupTypeToggleSwtich" 
                                              Header="Backup items online"
                                              Margin="0, 5, 0, 0"
                                              IsOn="{Binding ActivateBackupItemsType, Mode=TwoWay}"
                                              OffContent="Backup items locally"
                                              OnContent="Backup items online"
                                              Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                              IsEnabled="False"
                                              RelativePanel.AlignLeftWithPanel="True"
                                              RelativePanel.Below="BackupEnableToggleSwtich" />

                                <Button x:Name="BackupLocalFolder" 
                                        Content="Choose local backup folder"
                                        Click="{x:Bind ViewModel.RefreshHelloSecurity}"
                                        Margin="10, 5, 0, 4"
                                        Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                        IsEnabled="False"
                                        RelativePanel.AlignBottomWith="BackupTypeToggleSwtich"
                                        RelativePanel.RightOf="BackupTypeToggleSwtich"/>

                                <ToggleSwitch x:Name="BackupPeriodToggleSwtich" 
                                              Header="Backup items automatically"
                                              Margin="0, 5, 0, 0"
                                              IsOn="{Binding ActivateBackupItemsInterval, Mode=TwoWay}"
                                              OffContent="Manual backup"
                                              OnContent="Automatic backup"
                                              Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                              IsEnabled="False"
                                              RelativePanel.AlignLeftWithPanel="True"
                                              RelativePanel.Below="BackupTypeToggleSwtich" />

                                <Button x:Name="BackupManual" 
                                        Content="Backup now"
                                        Click="{x:Bind ViewModel.RefreshHelloSecurity}"
                                        Margin="10, 5, 0, 4"
                                        Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                        IsEnabled="False"
                                        RelativePanel.AlignBottomWith="BackupPeriodToggleSwtich"
                                        RelativePanel.RightOf="BackupPeriodToggleSwtich"/>

                                <TextBlock x:Name="BackupLastBackup"
                                           Text="Last backup was:"
                                           Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                           RelativePanel.AlignLeftWithPanel="True"
                                           RelativePanel.Below="BackupManual"/>

                                <TextBlock x:Name="ActionCenterControlSettingsHeader"
                                           Text="Action center controls"
                                           FontSize="20"
                                           Margin="0,10,0,0"
                                           Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                           RelativePanel.Below="BackupLastBackup" 
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                <ToggleSwitch x:Name="ActionCenterControlToggleSwtich" 
                                              Header="Status"
                                              Margin="0, 5, 0, 0"
                                              IsOn="{Binding ActivateActionCenterControl, Mode=TwoWay}"
                                              OffContent="Disable Action Center control"
                                              OnContent="Control app via Action Center"
                                              Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                              IsEnabled="False"
                                              RelativePanel.AlignLeftWithPanel="True"
                                              RelativePanel.Below="ActionCenterControlSettingsHeader" />

                                <TextBlock x:Name="SecondaryItemTilesSettingsHeader"
                                           Text="Tiles for each item"
                                           FontSize="20"
                                           Margin="0,10,0,0"
                                           Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                           RelativePanel.Below="ActionCenterControlToggleSwtich" 
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                <ToggleSwitch x:Name="SecondaryItemTilesToggleSwtich" 
                                              Header="Status"
                                              Margin="0, 5, 0, 0"
                                              IsOn="{Binding ActivateSecondaryItemTiles, Mode=TwoWay}"
                                              OffContent="Disable tiles"
                                              OnContent="Enable tiles"
                                              Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                              IsEnabled="False"
                                              RelativePanel.AlignLeftWithPanel="True"
                                              RelativePanel.Below="SecondaryItemTilesSettingsHeader" />

                                <TextBlock x:Name="CustomSecureTextSettingsHeader"
                                           Text="Custom notification info for secured items"
                                           FontSize="20"
                                           Margin="0,10,0,0"
                                           Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                           RelativePanel.Below="SecondaryItemTilesToggleSwtich" 
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                <ToggleSwitch x:Name="CustomSecureTextToggleSwtich" 
                                              Header="Status"
                                              Margin="0, 5, 0, 0"
                                              IsOn="{Binding ActivateCustomSecuredNotificationInfo, Mode=TwoWay}"
                                              OffContent="Disable custom notifications"
                                              OnContent="Enable custom notifications"
                                              Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                              IsEnabled="False"
                                              RelativePanel.AlignLeftWithPanel="True"
                                              RelativePanel.Below="CustomSecureTextSettingsHeader" />

                                <TextBlock x:Name="CustomSecureTextTextInputHeader"
                                           Text="Custom notification info"
                                           Margin="0,10,0,0"
                                           Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                           RelativePanel.Below="CustomSecureTextToggleSwtich" 
                                           RelativePanel.AlignLeftWithPanel="True"/>

                                <TextBox x:Name="CustomSecureInfoTextTextBox"
                                         Margin="0, 5, 0, 0"
                                         Width="350"
                                         Text="{Binding CustomSecuredNotificationInfoText, Mode=TwoWay}"
                                         Visibility="{Binding PremiumFeaturesActivated, Converter={StaticResource BoolToVisibility}}"
                                         IsEnabled="False"
                                         RelativePanel.AlignLeftWithPanel="True"
                                         RelativePanel.Below="CustomSecureTextTextInputHeader"/>
                            </RelativePanel>
                        </ScrollViewer>
                    </PivotItem>-->

                    <!--  privacy  -->
                    <PivotItem DataContext="{Binding SettingsPartViewModel}"
                               Header="Privacy statement" 
                               Padding="0">
                        
                        <!--<ScrollViewer Margin="0,0,-12,0" 
                              VerticalScrollBarVisibility="Auto">

                    <TextBlock Margin="0,12,24,12" 
                               LineHeight="24"
                               TextWrapping="Wrap"/>
                </ScrollViewer>-->

                        <ItemsControl>
                            <ItemsControl.Template>
                                <ControlTemplate>
                                    <ScrollViewer VerticalScrollBarVisibility="Auto"
                                                  Margin="0 0 -12 0">
                                        <ItemsPresenter />
                                    </ScrollViewer>
                                </ControlTemplate>
                            </ItemsControl.Template>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel>
                                        <TextBlock Style="{StaticResource TitleTextBlockStyle}" Text="{Binding Title}" 
                                                   Margin="0 10 0 0"/>
                                        <TextBlock Margin="0,4,0,0"
                                                   Style="{StaticResource BodyTextBlockStyle}"
                                                   Text="{Binding Content}" />
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.Items>
                                <FConv:DocSection Title="Types of Data collected" Content="The owner does not provide a list of Personal Data types collected. Other Personal Data collected may be described in other sections of this privacy policy or by dedicated explanation text contextually with the Data collection. The Personal Data may be freely provided by the User, or collected automatically when using this Application. Any use of Cookies - or of other tracking tools - by this Application or by the owners of third party services used by this Application, unless stated otherwise, serves to identify Users and remember their preferences, for the sole purpose of providing the service required by the User. Failure to provide certain Personal Data may make it impossible for this Application to provide its services. Users are responsible for any Personal Data of third parties obtained, published or shared through this Application and confirm that they have the third party's consent to provide the Data to the Owner." />
                                <FConv:DocSection Title="Methods of processing" Content="The Data Controller processes the Data of Users in a proper manner and shall take appropriate security measures to prevent unauthorized access, disclosure, modification, or unauthorized destruction of the Data. The Data processing is carried out using computers and/or IT enabled tools, following organizational procedures and modes strictly related to the purposes indicated. In addition to the Data Controller, in some cases, the Data may be accessible to certain types of persons in charge, involved with the operation of the site (administration, sales, marketing, legal, system administration) or external parties (such as third party technical service providers, mail carriers, hosting providers, IT companies, communications agencies) appointed, if necessary, as Data Processors by the Owner. The updated list of these parties may be requested from the Data Controller at any time." />
                                <FConv:DocSection Title="Retention time" Content="The Data is kept for the time necessary to provide the service requested by the User, or stated by the purposes outlined in this document, and the User can always request that the Data Controller suspend or remove the data." />
                                <FConv:DocSection Title="Legal action" Content="The User's Personal Data may be used for legal purposes by the Data Controller, in Court or in the stages leading to possible legal action arising from improper use of this Application or the related services. The User declares to be aware that the Data Controller may be required to reveal personal data upon request of public authorities." />
                                <FConv:DocSection Title="Additional information about User's Personal Data" Content="In addition to the information contained in this privacy policy, this Application may provide the User with additional and contextual information concerning particular services or the collection and processing of Personal Data upon request." />
                                <FConv:DocSection Title="System logs and maintenance" Content="For operation and maintenance purposes, this Application and any third party services may collect files that record interaction with this Application (System logs) or use for this purpose other Personal Data (such as IP Address)." />
                                <FConv:DocSection Title="Information not contained in this policy" Content="More details concerning the collection or processing of Personal Data may be requested from the Data Controller at any time. Please see the contact information at the beginning of this document." />
                                <FConv:DocSection Title="The rights of Users" Content="Users have the right, at any time, to know whether their Personal Data has been stored and can consult the Data Controller to learn about their contents and origin, to verify their accuracy or to ask for them to be supplemented, cancelled, updated or corrected, or for their transformation into anonymous format or to block any data held in violation of the law, as well as to oppose their treatment for any and all legitimate reasons. Requests should be sent to the Data Controller at the contact information set out above. This Application does not support 'Do Not Track' requests. To determine whether any of the third party services it uses honor the 'Do Not Track' requests, please read their privacy policies." />
                                <FConv:DocSection Title="Changes to this privacy policy" Content="The Data Controller reserves the right to make changes to this privacy policy at any time by giving notice to its Users on this page. It is strongly recommended to check this page often, referring to the date of the last modification listed at the bottom. If a User objects to any of the changes to the Policy, the User must cease using this Application and can request that the Data Controller remove the Personal Data. Unless stated otherwise, the then-current privacy policy applies to all Personal Data the Data Controller has about Users." />
                            </ItemsControl.Items>
                        </ItemsControl>
                    </PivotItem>

                    <!--  about  -->
                    <PivotItem Header="About">

                        <ScrollViewer Margin="0,0,-12,0" 
                                      HorizontalContentAlignment="Left"
                                      VerticalScrollBarVisibility="Auto">
                            
                            <RelativePanel DataContext="{Binding AboutPartViewModel}"
                                       Margin="0, 0, 0, 10">

                                <Border x:Name="LogoImage" 
                                        Margin="0 0 16 0"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Top" 
                                        BorderBrush="DimGray"
                                        BorderThickness="1" 
                                        IsHitTestVisible="False"
                                        RelativePanel.AlignRightWithPanel="True"
                                        RelativePanel.AlignTopWithPanel="True">

                                    <Border.Background>
                                        <SolidColorBrush Color="{ThemeResource SystemAccentColor}" />
                                    </Border.Background>

                                    <Image Margin="12" Source="{Binding Logo}"
                                       Stretch="None" />
                                </Border>

                                <TextBlock x:Name="DisplayNameTextBlock" 
                                       Margin="0,0,0,12"
                                       FontSize="24" 
                                       FontWeight="Bold"
                                       RelativePanel.AlignLeftWithPanel="True"
                                       RelativePanel.AlignRightWith="LogoImage"
                                       RelativePanel.AlignTopWithPanel="True"
                                       Text="{Binding DisplayName}" />

                                <TextBlock x:Name="PublisherTextBlock"
                                       RelativePanel.AlignLeftWithPanel="True"
                                       RelativePanel.Below="DisplayNameTextBlock"
                                       Text="{Binding Publisher}" />

                                <TextBlock x:Name="VersionTextBlock"
                                       RelativePanel.AlignLeftWithPanel="True"
                                       RelativePanel.Below="PublisherTextBlock">
                                <Run>Version</Run>
                                <Run Text="{Binding VersionFull}" />
                                </TextBlock>

                                <TextBlock x:Name="YearSign"
                                       RelativePanel.AlignLeftWithPanel="True"
                                       RelativePanel.Below="VersionTextBlock"
                                       FontFamily="Segoe UI"
                                       Text="© 2016 - 2018" />

                                <Button x:Name="BetaSignUp"
                                    Command="{Binding BetaSignUp}"
                                    Margin="0,10,0,0"
                                    Visibility="{Binding BetaSignVisibility}"
                                    Content="Sign up to Beta program"
                                    RelativePanel.Below="YearSign" 
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Top"/>

                                <Button x:Name="ShowRelNotesButton"
                                    Command="{Binding ShowRelNotes}"
                                    Margin="0, 10, 0, 0"
                                    Content="Show release notes"
                                    RelativePanel.Below="BetaSignUp"/>

                                <TextBlock x:Name="FullReleaseReportHeader"
                                       RelativePanel.AlignLeftWithPanel="True"
                                       RelativePanel.Below="ShowRelNotesButton"
                                       FontWeight="Bold"
                                       Margin="0, 10, 0, 0"
                                       FontSize="20">
                                <Run>Full release notes for version </Run>
                                <Run Text="{Binding Version}" />
                                <Run>:</Run>
                                </TextBlock>

                                <TextBlock x:Name="FullReleaseReport"
                                       RelativePanel.AlignLeftWithPanel="True"
                                       RelativePanel.Below="FullReleaseReportHeader"
                                       FontSize="20"
                                       FontWeight="Light"
                                       Text="{Binding FullReport}"/>

                                <TextBlock x:Name="Thanks"
                                       RelativePanel.AlignLeftWithPanel="True"
                                       RelativePanel.Below="FullReleaseReport"
                                       Margin="0 25 0 0"
                                       FontSize="20"
                                       Visibility="Collapsed"
                                       Text="Thanks to Jan Skala for your assistance in developing">
                                </TextBlock>

                            </RelativePanel>
                        </ScrollViewer>
                    </PivotItem>
                </Pivot>

            </Grid>
        </Tools:DropShadowPanel>
    </RelativePanel>

</Page>